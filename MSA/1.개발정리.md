# 1.개발정리

- PC 1대로 여러 인스턴스 구성 시, 포트번호로 PC 여러대로 여러 인스턴스 구성 시에는 포트번호는 동일, 해당 서버 ip
- Eureka 역할 - Service Discovery
- (외부에서 다른 서비스이 micro service를 검색하기 위해서 사용되는 개념), 요청 정보가 들어왔을 때 이 정보가 어디에 있다고 알려주는 역할a
- API Gateway란?
    - 인증 및 권한 부여
    - 서비스 검색 통합
    - 응답 캐싱
    - 정책, 회로 차단기 및 QoS 다시 시도
    - 속도 제한
    - 부하 분산
    - 로깅, 추적, 상관 관계 (ex. ELK)
    - 헤더, 쿼리 문자열 및 청구 변환
    - IP 허용 목록에 추가

- Spring Cloud에서의 MSA간 통신
    - RestTemplate

    ```java
    RestTemplate restTemplate = new RestTemplate();
    restTemplate.getForObject("http://localhost:8080/", User.class, 200);
    ```

    - **Feign Client ⇒  직접적인 서버 ip,port,주소를 통한 호출이 아닌 마이크로서비스 이름으로 호출 가능**

    ```java
    @FeignClient("stores")
    public interface StoreClient {
    	@RequestMapping(method = RequestMethod.GET, value="/stores")
    	List<Store> getStores();
    ```


- Netflix Zuul 구현
    - gateway 역할
    - client ↔  Netflix Zuul ↔  Micro Service


- Spring Cloud Gateway 란?
  - 비동기방식. zuul ⇒ 동기
  - 기존에 있던 zuul 방식을 대신한다.